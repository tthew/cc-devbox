# Domain Whitelist ACLs for Squid Proxy
# Converted from dnsmasq configuration
# ====================================

# NPM Registry and Package Management
acl npm_domains dstdomain .npmjs.org
acl npm_domains dstdomain .skimdb.npmjs.com
acl npm_domains dstdomain .registry.nodejs.org

# GitHub Ecosystem
acl github_domains dstdomain .github.com
acl github_domains dstdomain .api.github.com
acl github_domains dstdomain .raw.githubusercontent.com
acl github_domains dstdomain .codeload.github.com
acl github_domains dstdomain .github.githubassets.com
acl github_domains dstdomain .githubapp.com
acl github_domains dstdomain .githubassets.com
acl github_domains dstdomain .objects.githubusercontent.com
acl github_domains dstdomain .release-assets.githubusercontent.com

# Anthropic / Claude
acl anthropic_domains dstdomain .api.anthropic.com
acl anthropic_domains dstdomain .claude.ai
acl anthropic_domains dstdomain .anthropic.com

# Node.js Ecosystem
acl nodejs_domains dstdomain .nodejs.org
acl nodejs_domains dstdomain .deb.nodesource.com
acl nodejs_domains dstdomain .nodesource.com

# Essential CDNs and Infrastructure
acl cdn_domains dstdomain .fastly.com
acl cdn_domains dstdomain .cloudflare.com
acl cdn_domains dstdomain .cdnjs.cloudflare.com
acl cdn_domains dstdomain .unpkg.com
acl cdn_domains dstdomain .jsdelivr.net

# AWS Services (for npm packages hosted on S3)
acl aws_domains dstdomain .amazonaws.com
acl aws_domains dstdomain .s3.amazonaws.com

# System Updates (Ubuntu/Debian)
acl system_update_domains dstdomain .archive.ubuntu.com
acl system_update_domains dstdomain .security.ubuntu.com
acl system_update_domains dstdomain .deb.debian.org
acl system_update_domains dstdomain .security.debian.org

# GitHub CLI and OAuth Authentication
acl github_cli_domains dstdomain .cli.github.com

# Essential Build Tools
acl build_tools_domains dstdomain .curl.haxx.se
acl build_tools_domains dstdomain .astral.sh

# Supabase CLI
acl supabase_domains dstdomain .cli.supabase.com
acl supabase_domains dstdomain .supabase.com

# Certificate Authorities (for SSL/TLS)
acl cert_domains dstdomain .letsencrypt.org
acl cert_domains dstdomain .mozilla.org

# Docker-related domains (for container operations)
acl docker_domains dstdomain .docker.com
acl docker_domains dstdomain .docker.io

# Playwright browser downloads and testing infrastructure
acl playwright_domains dstdomain .storage.googleapis.com
acl playwright_domains dstdomain .playwright.azureedge.net
acl playwright_domains dstdomain .pypi.org
acl playwright_domains dstdomain .files.pythonhosted.org
acl playwright_domains dstdomain .awscli.amazonaws.com
acl playwright_domains dstdomain .releases.hashicorp.com
acl playwright_domains dstdomain .download.docker.com
acl playwright_domains dstdomain .keyserver.ubuntu.com

# Local development domains
acl local_domains dstdomain localhost
acl local_domains dstdomain host.docker.internal

# Combine all whitelisted domains for HTTP access
acl whitelisted_domains dstdomain .npmjs.org
acl whitelisted_domains dstdomain .skimdb.npmjs.com
acl whitelisted_domains dstdomain .registry.nodejs.org
acl whitelisted_domains dstdomain .github.com
acl whitelisted_domains dstdomain .api.github.com
acl whitelisted_domains dstdomain .raw.githubusercontent.com
acl whitelisted_domains dstdomain .codeload.github.com
acl whitelisted_domains dstdomain .github.githubassets.com
acl whitelisted_domains dstdomain .githubapp.com
acl whitelisted_domains dstdomain .githubassets.com
acl whitelisted_domains dstdomain .objects.githubusercontent.com
acl whitelisted_domains dstdomain .release-assets.githubusercontent.com
acl whitelisted_domains dstdomain .api.anthropic.com
acl whitelisted_domains dstdomain .claude.ai
acl whitelisted_domains dstdomain .anthropic.com
acl whitelisted_domains dstdomain .nodejs.org
acl whitelisted_domains dstdomain .deb.nodesource.com
acl whitelisted_domains dstdomain .nodesource.com
acl whitelisted_domains dstdomain .fastly.com
acl whitelisted_domains dstdomain .cloudflare.com
acl whitelisted_domains dstdomain .cdnjs.cloudflare.com
acl whitelisted_domains dstdomain .unpkg.com
acl whitelisted_domains dstdomain .jsdelivr.net
acl whitelisted_domains dstdomain .amazonaws.com
acl whitelisted_domains dstdomain .s3.amazonaws.com
acl whitelisted_domains dstdomain .archive.ubuntu.com
acl whitelisted_domains dstdomain .security.ubuntu.com
acl whitelisted_domains dstdomain .deb.debian.org
acl whitelisted_domains dstdomain .security.debian.org
acl whitelisted_domains dstdomain .cli.github.com
acl whitelisted_domains dstdomain .curl.haxx.se
acl whitelisted_domains dstdomain .astral.sh
acl whitelisted_domains dstdomain .cli.supabase.com
acl whitelisted_domains dstdomain .supabase.com
acl whitelisted_domains dstdomain .letsencrypt.org
acl whitelisted_domains dstdomain .mozilla.org
acl whitelisted_domains dstdomain .docker.com
acl whitelisted_domains dstdomain .docker.io
acl whitelisted_domains dstdomain .storage.googleapis.com
acl whitelisted_domains dstdomain .playwright.azureedge.net
acl whitelisted_domains dstdomain .pypi.org
acl whitelisted_domains dstdomain .files.pythonhosted.org
acl whitelisted_domains dstdomain .awscli.amazonaws.com
acl whitelisted_domains dstdomain .releases.hashicorp.com
acl whitelisted_domains dstdomain .download.docker.com
acl whitelisted_domains dstdomain .keyserver.ubuntu.com
acl whitelisted_domains dstdomain localhost
acl whitelisted_domains dstdomain host.docker.internal

# SSL/HTTPS domains (for CONNECT method)
acl whitelisted_ssl_domains ssl::server_name .npmjs.org
acl whitelisted_ssl_domains ssl::server_name .skimdb.npmjs.com
acl whitelisted_ssl_domains ssl::server_name .registry.nodejs.org
acl whitelisted_ssl_domains ssl::server_name .github.com
acl whitelisted_ssl_domains ssl::server_name .api.github.com
acl whitelisted_ssl_domains ssl::server_name .raw.githubusercontent.com
acl whitelisted_ssl_domains ssl::server_name .codeload.github.com
acl whitelisted_ssl_domains ssl::server_name .github.githubassets.com
acl whitelisted_ssl_domains ssl::server_name .githubapp.com
acl whitelisted_ssl_domains ssl::server_name .githubassets.com
acl whitelisted_ssl_domains ssl::server_name .objects.githubusercontent.com
acl whitelisted_ssl_domains ssl::server_name .release-assets.githubusercontent.com
acl whitelisted_ssl_domains ssl::server_name .api.anthropic.com
acl whitelisted_ssl_domains ssl::server_name .claude.ai
acl whitelisted_ssl_domains ssl::server_name .anthropic.com
acl whitelisted_ssl_domains ssl::server_name .nodejs.org
acl whitelisted_ssl_domains ssl::server_name .deb.nodesource.com
acl whitelisted_ssl_domains ssl::server_name .nodesource.com
acl whitelisted_ssl_domains ssl::server_name .fastly.com
acl whitelisted_ssl_domains ssl::server_name .cloudflare.com
acl whitelisted_ssl_domains ssl::server_name .cdnjs.cloudflare.com
acl whitelisted_ssl_domains ssl::server_name .unpkg.com
acl whitelisted_ssl_domains ssl::server_name .jsdelivr.net
acl whitelisted_ssl_domains ssl::server_name .amazonaws.com
acl whitelisted_ssl_domains ssl::server_name .s3.amazonaws.com
acl whitelisted_ssl_domains ssl::server_name .archive.ubuntu.com
acl whitelisted_ssl_domains ssl::server_name .security.ubuntu.com
acl whitelisted_ssl_domains ssl::server_name .deb.debian.org
acl whitelisted_ssl_domains ssl::server_name .security.debian.org
acl whitelisted_ssl_domains ssl::server_name .cli.github.com
acl whitelisted_ssl_domains ssl::server_name .curl.haxx.se
acl whitelisted_ssl_domains ssl::server_name .astral.sh
acl whitelisted_ssl_domains ssl::server_name .cli.supabase.com
acl whitelisted_ssl_domains ssl::server_name .supabase.com
acl whitelisted_ssl_domains ssl::server_name .letsencrypt.org
acl whitelisted_ssl_domains ssl::server_name .mozilla.org
acl whitelisted_ssl_domains ssl::server_name .docker.com
acl whitelisted_ssl_domains ssl::server_name .docker.io
acl whitelisted_ssl_domains ssl::server_name .storage.googleapis.com
acl whitelisted_ssl_domains ssl::server_name .playwright.azureedge.net
acl whitelisted_ssl_domains ssl::server_name .pypi.org
acl whitelisted_ssl_domains ssl::server_name .files.pythonhosted.org
acl whitelisted_ssl_domains ssl::server_name .awscli.amazonaws.com
acl whitelisted_ssl_domains ssl::server_name .releases.hashicorp.com
acl whitelisted_ssl_domains ssl::server_name .download.docker.com
acl whitelisted_ssl_domains ssl::server_name .keyserver.ubuntu.com